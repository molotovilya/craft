# про
## Вступление

Когда мы говорим о множествах и теории множеств, то ключевым при их определении является наличие элементов и их принадлежности, или по-другому говоря — включения.  

Эта ключевая операция позволяет ввести понятие подмножества. Для множеств оно определяется так:  

$$
A \subseteq X , \ \forall a \in A \; (a \in X)
$$

Всё просто: если некоторое множество $A$ состоит из тех же элементов, что и множество $X$, то оно является его подмножеством.  

Но математика не заканчивается на множествах. Есть другие структуры, будь то группы, кольца, поля, пространства, графы. Объекты с дополнительной или иной структурой. И там также бывают понятия, аналогичные подмножествам, — своеобразные подструктуры.  

Однако мало того, что элементы одной структуры должны принадлежать другой, также важно соблюдать дополнительные ограничения в рамках этих объектов. Накладывать на элементы дополнительные правила.  

Но что если мы хотим говорить о подструктурах безотносительно того, о какой категории объектов рассуждаем? Говорить лишь о взаимодействиях между структурами и подструктурами.  

В таком случае говорят о **подобъектах**. Это способ определить подструктуру через внешние отношения, о чём и пойдёт речь далее.

---

## Определение  

Что такое подобъект некоторого объекта $X$?  

Это класс:  

1. класс эквивалентности,  
2. мономорфных  
3. стрелок с концом в $X$,  
4. с точностью до правой композиции  
5. с изоморфизмом между образами моно-стрелок.  

Формально:  

$$
\mathrm{Sub}(X) = \{ [m] \mid m: A \hookrightarrow X,\;\; m \text{ моно} \}/\sim,
$$  

где $[m]$ обозначает класс эквивалентности моно-стрелок, а отношение эквивалентности определяется так:  

$$
m_a \sim m_b \;\;\iff\;\; \exists \eta: A \cong B \;\;\text{такое, что } m_a = m_b \circ \eta.
$$

И теперь главный вопрос - что всё это значит. Ведь сходу звучит не понятно и как будто слишком закручено. Но давайте разложим всё интуитивно на части. Начнём с мономорфности

---

## Мономорфизм  

Очевидно, глядя на множества, мы понимаем, что речь идёт о вложении одной структуры в другую, о представлении, что один объект как бы содержится в другом.  

Такое вложение можно представить внешними отношениями как стрелку:  

$$i \ \colon A \xhookrightarrow{i} X$$

Но любая ли стрелка нам для этого подойдёт? Конечно нет.  

Есть, к примеру, такие отображения, которые склеивают элементы при преобразовании объекта. Если бы мы использовали такие отображения, то наш подобъект странным образом отличался бы. Как так — подструктура могла бы иметь больше элементов, чем та структура, которая её включает?  

И тут речь о множествах или конкретных категориях как примере. В случае структур основанных на множествах - такое свойство "не склеивания" элементов при отображении называется **инъективностью**:

$$
f: A \to X \;\;\text{инъективно} \iff \forall a_1,a_2 \in A \;\;(f(a_1)=f(a_2) \implies a_1=a_2).
$$  
Разные элементы переходят в различные образы и никогда в один. 

Но на общих структурах без привязки к элементам , мы можем определить аналог инъекции. Назвав такое отображение **мономорфизмом**. Или просто - моно стрелкой. 

$$
f: A \to X \;\;\text{моно} \iff \forall g,h: Z \to A \;\;(f \circ g = f \circ h \implies g=h).
$$
О том как свзяна инъективность и мономорфность я тут подробно говорить не буду. Сейчас  же нам важно лишь свойства "неупрощения" вкладываемого объекта.

Используя это простое свойство, мы можем произвести вложение. И структура останется чистой. Такой, будто мы нечто изъяли, а затем вложили. Это и является кандидатом на роль «части».  

Но постойте. Ведь мы понимаем, что если вложение можно определить так стрелкой, то также можно построить и другие стрелки от включаемого объекта $A$ к объекту $X$. Например:  

$$
i: A \xhookrightarrow{} X, \qquad m: A \xhookrightarrow{} X.
$$  

Получается, что подобъект А - это не подобъект? 

---

## Стрелка первичнее объекта  

И тут мы приходим к тому, что в определении «подобъектом» называется, как ни странно, не объект, а стрелка.  

То есть мы смотрим не на домен-источник отображения, а на стрелку, которая производит включение:  

$$
m: A \hookrightarrow X.
$$  
Но почему?
Если у нас есть стрелка, то понятно, что она прикреплена к некоторому образу. Этот образ мономорфной стрелки будет подструктурой объекта $X$.  

Но если пойти наоборот — и задать только объект $A$, не определив, как он будет транслироваться в большую структуру, — то и не будет понятно, какой подструктуре внутри $X$ он соответствует. По другому говоря - подобъектность А, не определена сама по себе, она определена лишь через стрелку, создающую отношение.

И более того, для одного и того же объекта $A$ можно создать несколько стрелок, каждая из которых будет соответствовать своему подобъекту $X$.  

В общем, не сам объект $A$ определяет подструктуру внутри $X$. Всё идёт наоборот: мы отталкиваемся от того, что в $X$ есть нечто, созданное специальной моно-стрелкой, и ищём прообраз этого.  

Тут некоторым читателям может прийти на ум определение непрерывных отображений в которых определение даётся также через прообраз открытых множеств. Но это так, к слову.

А что насчёт других объектов помимо А. Можем ли мы транслировать в объект X другие объекты (например B), если из одного А мы строили такие разные отображения и всё определялось стрелками. Да, а почему нет? Но как в таком случае как будут соотносится такие отображения из других объектов?  

---

## Изоморфизм и разные объекты  

Когда мы смотрим на отобажение из $A$:  

$$
i: A \xhookrightarrow{} X,
$$  

мы должны понимать, что «нейминг» элементов в $A$ может отличаться от элементов $X$.  

Например, если $$X = \{\text{яблоко}, \text{груша}, \text{банан}\}$$, то для подобъекта «яблоко» мы можем взять:  

$$
A = \{\bullet\}, \qquad i(\bullet) = \text{яблоко}.
$$  

А можем взять:  

$$
B = \{\square\}, \qquad m(\square) = \text{яблоко}.
$$  
Фактически не важно какую маркирующую наклейку мы берём, важен сам выбор и итоговый переход. Но раз выбор не важен, остаётся только понять, что разные домены - маркеры нашего выбора очень похожи друг на друга и могут быть связаны соответствием.   

Эту равнозначность можно задать с помощью **изоморфизм**а:  

$$
\eta: A \to B \;\;\text{изоморфизм} \iff \exists \eta^{-1}: B \to A \;\;\text{такое, что } \eta^{-1}\circ \eta = \mathrm{id}_A,\;\; \eta\circ \eta^{-1} = \mathrm{id}_B.
$$ 
т.е. есть такое обратимое отображение, которая но множетсвах соответствовало бы биекции. А на прочих категориях просто напросто говорит, что объекты эквивалентны и могут быть превращены друг в друга, являясь близнецами.

Таким образом, разные объекты-маркеры, соединённые изоморфизмом, дают один и тот же подобъект в $X$.  


Но вот вопрос. Пусть у нас есть изоморфизм между объектами ярлыками. Как перенести эту изоморфность на различные отображения инъекций или монострелок.  Ведь получается, что подобъект, как стрелка, это не одна конкретная стрелка, это сама суть вложения выбора. 

И как мы можем благодаря изоморфности объектов-ярлыков связать эти стрелки воедино? Для этого мы воспользуемся композицией.


(кстати, вы можете самостоятельно подумать о подобъекте не из одного, а из пары элементов в дальнейшем)

---

## Эквивалентность стрелок  

Возьмём две монострелки: 

$$
\alpha: A \hookrightarrow  X
$$
$$
\beta: B \hookrightarrow  X
$$


Если существует изоморфизм $\eta: A \cong B$, $$ \eta: A \rightarrow  B$$то можно составить композицию:  

$$
(\beta \circ \eta): A \hookrightarrow X.
$$  

Если при этом

$$
\alpha = \beta \circ \eta
$$
и
$$
\beta= \alpha  \circ {\eta^{-1}}
$$

Что значит, что мы можем пропустить одну стрелку через другую и обратно. То это даст нам отношение эквивалентности между ними:

$$
\alpha \sim \beta
$$  
(в качестве упражнения можно проверить свойства для такого отношения эквивалентности). 

Это отношение эквивалентности объединяет разные стрелки в один класс. Такой класс и есть подобъект.  

Но постойте. Когда мы определяли такую эквивалентность, я сказал, что у нас имелся изоморфизм. Т.е. что мы могли связать домены ярлыки между собой. Но ведь и моё название ярлыков это тоже своеобразная придумка. Вообще это просто какие-то абстрактные структуры. 

А раз так, то можем ли мы рассмотреть что подобная стрелка связи была не двунаправленной а также являлась включением одного под объекта в другой.

---

## Подобъекты подобъектов  


Иначе говоря на языке множеств Я предлагаю рассмотреть ситуацию Когда у нас есть подмножество другого подмножества. Когда есть под объект другого под объекта. 

Рассмотрим ситуацию, когда у нас есть подмножество $А$ подмножества $B$. На языке категорий это записывается так:  

$$
A \xhookrightarrow{i} B \xhookrightarrow{\beta} X
\;\;\implies\;\; (\beta \circ i): A \hookrightarrow X.
$$  

Тогда мы можем ввести отношение порядка между подобъектами через стрелку вложения $i$. Положим есть два вложения:  
$$
\quad \alpha: A \hookrightarrow X
$$
$$
\beta: B \hookrightarrow X
$$
Тогда порядок между ними:

$$
\alpha \leq \beta \iff \exists i: A \to B \;\;\text{такое, что }  \alpha= \beta \circ i.
$$

Иначе говоря стрелка $\alpha$ пропускается через стрелку $\beta$ и представляется в качестве композиции.  

И вот если мы имеем возможность таким образом пропустить одну стрелку через другую, тогда мы можем сказать что одна стрелка является под объектом другой стрелки. 

Если рассмотреть это отношения с позиции антисимметричности, то есть того что оба под объекта являются вложениями друг друга и пропускаются друг через друга. Когда будет справедливо 

тогда мы можем прийти как раз к изначальной ситуации эквивалентности нескольких стрелок как единого под объекта. 

Если выполняется двустороннее вложениe 

$$
\alpha \leq \beta 
$$

$$
\beta \leq \alpha  
$$

то это и будет ранее указанной эквивалентнсотью на моно-стрелках

$$
\alpha \sim \beta.
$$  

## Замечания и идеи

Любознательному читателю может показаться интересным различие между двумя случаями:

1. Мы говорили о **наличии изоморфной стрелки** между объектами. Это довольно сильное условие: оно требует не просто вложений, а существования стрелок, обратимых друг к другу.
2. А затем рассматривали более слабое условие — наличие **двух мономорфизмов**, идущих в обе стороны.

И возникает естественный вопрос:

- порождает ли такое двунаправленное вложение ($A \hookrightarrow B$ и $B \hookrightarrow A$) существование изоморфизма $A \cong B$?  И более того - быть может нам вообще не надо было требовать того, чтобы отображение $i$ между $A$ и $B$ являлось моно-стрелкой. Может быть достаточно потребовать просто сущестования какого-то морфизма, который позволял бы пропускать один объект через другой. И отсюда можно вывести, что он моно (в случае если он один) и изо - в случае, если их два?
- Будет лип полученный изоморфизм, подволяющий пропускать одну стрелку через другу - **уникальным** , т.е. таким, что если рассмотреть другой изоморфизм - то можно доказать их равенство с помощью мономорфности пропускающих стрелок.

Ответ на эти вопросы можно получить (далее подсказка), внимательно раскрыть определения мономорфизма и изоморфизма. В случае для одной стрелки - просто проверив её мономорфность можно домножив на идущую стрелку и сведя к мономорфизму.

$$
f_1 \circ i \circ \alpha = f_2 \circ i \circ \alpha 
$$

В случае же с изоморфизмом, проверив композицию обратных стрелок друг с другом, прямо и обратно

$$
(\alpha \circ i ) \circ j= \beta \circ j = \alpha \;\;\implies\;\; i \circ j = 1_A
$$

(на заметку: Первый вопрос является по смыслу схожим с теоремой Кантора – Бернштейна – Шрёдера о сущестовании биекции между множествами, между которыми существуют инъекции. Но важдно понимать, что не всегда наличие двух моно-морфизмов порождает изоморфизм. Здесь это позволяет делать наличие дополнительных пропускающих стрелок.)

Наконец, в качестве затравки для программистов: можно ли смоделировать подобъекты  в коде? Например, создать класс `Subobject`, где каждый элемент хранит свою моно-стрелку и определить метод сравнения у упорядочивания, основанный на проверке эквивалентности — через поиск изоморфизма доменов или же через поиск стрелки, через которую можно пропустить один подобъект через другой. Такой подход дал бы не только формализацию, но и возможный практический инструмент.

---

## Заключение  

Таким образом, мы рассмотрели, как, отрываясь от внутренней структуры, можно определить подобъект.  

1. необходимо выбрать специальную моно-стрелку отображения в искомый кодомен $X$,  
2. опираться на неё, а не на прообраз подобъекта в $X$, поскольку он вторичен самому отображению,  
3. рассмотреть различные отображения такого толка в кодомен и посмотреть, как они могут быть связаны изоморфизмом,  
4. и благодаря такому изоморфизму построить с помощью правой композиции эквивалентность между всеми стрелками выбора.  

И так получается определение для **подобъекта** $X$:  

$$
\mathrm{Sub}(X) = \{ [i] \mid i: A \hookrightarrow X \}/\sim,
$$ 
как класса мономорфизмов по модулю (с точностью до) правой композиции с изоморфизмом между прообразами этих морфизмов.

Думаю теперь это определение становится чуть понятнее. И его красота в универсальность в том, что оно не заглядывает внутрь объектов, а операется на внешние отношения. Неважно, из каких элементов состоит группа или топологическое пространство. Важно лишь то, как одна структура является вложением другой, сохраняя необходимые свойства для встраивания. 